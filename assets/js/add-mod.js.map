{"version":3,"sources":["add-mod.js"],"names":[],"mappings":"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","file":"add-mod.js","sourcesContent":["var addCounter = 1;\n'use strict';\n\nfunction Accordion(o) {\n    'use strict';\n    var _ = this;\n    if (o.target) {\n        _.id = addCounter++;\n        _.w = o.target;\n        _.o = o;\n\n    }\n\n    _.isTab = function (el) {\n        return (el.hasAttribute('role') && el.getAttribute('role') === 'tab');\n    }\n\n    _.isTabPanel = function (el) {\n        return (el.hasAttribute('role') && el.getAttribute('role') === 'tabpanel');\n    }\n\n    _.handleUserEvent = function (e) {\n        e = e ? e : arguments[0];\n\n        var t = e.target || e.srcElement,\n            kc = e.keyCode;\n\n        if (_.isTab(t) &&\n            (e.type === 'click' || (e.type === 'keydown' && (kc === 13 || kc === 32)))) {\n\n            if (_.o.single) _.closeAll(t);\n\n            _.toggle(t);\n        }\n        if (e.type === \"keydown\") {\n            if (e.ctrlKey === true) {\n                // if user press ctrl + up arrow\n                if (e.keyCode === 38) {\n                    _.getTab(e).focus();\n                }\n\n                // if user press ctrl + page up\n                if (e.keyCode === 33) {\n                    _.move2(_.current(_.getTab(e)) - 1);\n                }\n                // if user press ctrl + page down\n                if (e.keyCode === 34) {\n                    _.move2(_.current(_.getTab(e)) + 1);\n                }\n            }\n            if (_.isTab(t)) {\n                if (e.keyCode === 37 || e.keyCode === 38) {\n                    _.move2(_.current(t) - 1);\n                }\n                if (e.keyCode === 39 || e.keyCode === 40) {\n                    _.move2(_.current(t) + 1);\n                }\n                // end\n                if (e.keyCode === 36) _.move2(0);\n                if (e.keyCode === 35) _.move2(_.btns.length - 1);\n\n            }\n\n        }\n        e.stopPropagation();\n    };\n\n    _.closeAll = function (t) {\n        for (var i = 0; i < _.btns.length; i++) {\n            if (_.btns[i] !== t) _.close(i);\n        }\n    }\n\n    _.close = function (i) {\n        var b = _.btns[i],\n            p = _.panels[i];\n        b.setAttribute('aria-selected', false);\n        b.setAttribute('aria-expanded', false);\n        p.setAttribute('aria-hidden', true);\n    }\n\n    _.getTab = function (e) {\n        var cc = e.target;\n        if (_.isTab(cc)) {\n            return cc;\n        }\n        while (!_.isTabPanel(cc)) {\n            cc = cc.parentElement;\n        }\n        console.log(_.w);\n        return _.w.querySelector(\"#\" + cc.getAttribute('aria-labelledby'));\n    };\n\n    _.current = function (c) {\n        var l = _.btns,\n            i, ci;\n        for (i = 0; i < l.length; i++) {\n            if (l[i] === c) {\n                ci = i;\n            }\n        }\n        return ci;\n    }\n\n    _.move2 = function (i) {\n        if (i < 0) i = _.btns.length - 1;\n        else if (i >= _.btns.length) i = 0;\n        _.btns[i].focus();\n    };\n\n    _.toggle = function (t) {\n        var s = t.getAttribute('aria-expanded');\n        s = s == 'false' ? true : false;\n\n        t.setAttribute('aria-expanded', s);\n        t.setAttribute('aria-selected', s);\n        t.nextElementSibling.setAttribute('aria-hidden', !s);\n    };\n\n    _.setup = function (w) {\n        var p, b, i;\n\n        w.setAttribute('role', 'tablist');\n        w.setAttribute('aria-multiselectable', true);\n\n        _.btns = w.querySelectorAll('[role=tab]');\n        _.panels = w.querySelectorAll('[role=tabpanel]');\n\n        if (_.btns.length !== _.panels.length) {\n            throw 'accordion module : numbers of control tabs and panels dont match';\n        } else {\n            for (i = 0; i < _.btns.length; i++) {\n                b = _.btns[i];\n                p = _.panels[i];\n                b.id = 'a' + _.id + '-tab' + (i + 1);\n                p.setAttribute('aria-labelledby', b.id);\n                b.setAttribute('tabindex', 0);\n                b.setAttribute('aria-expanded', _.o.open);\n                b.setAttribute('aria-selected', _.o.open);\n                p.setAttribute('aria-hidden', !_.o.open);\n            };\n        };\n\n        w.addEventListener('click', _.handleUserEvent);\n        w.addEventListener('keydown', _.handleUserEvent);\n    };\n\n    (function () {\n        _.o.open = _.o.open || false;\n        _.setup(_.o.target);\n    })();\n}\n\nfunction pageLoaded() {\n    new Accordion({\n        target: document.querySelector('[data-widget=accordion]'),\n        single: true\n    });\n\n};\n\ndocument.addEventListener('Load', pageLoaded());"],"sourceRoot":"/source/"}