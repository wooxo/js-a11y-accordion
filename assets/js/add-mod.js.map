{"version":3,"sources":["add-mod.js"],"names":[],"mappings":"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","file":"add-mod.js","sourcesContent":["var addCounter = 1;\r\n'use strict';\r\n\r\nfunction Accordion(o) {\r\n    'use strict';\r\n    var _ = this;\r\n    if (o.target) {\r\n        _.id = addCounter++;\r\n        _.w = o.target;\r\n        _.o = o;\r\n    };\r\n    _.isTab = function (el) {\r\n        return (el.hasAttribute('role') && el.getAttribute('role') === 'tab');\r\n    }\r\n    _.isTabPanel = function (el) {\r\n        return (el.hasAttribute('role') && el.getAttribute('role') === 'tabpanel');\r\n    }\r\n\r\n    _.handleUserEvent = function (e) {\r\n        e = e ? e : arguments[0];\r\n\r\n        var t = e.target || e.srcElement,\r\n            kc = e.keyCode;\r\n\r\n        if (_.isTab(t) &&\r\n            (e.type === 'click' || (e.type === 'keydown' && (kc === 13 || kc === 32)))) {\r\n            _.toggle(t);\r\n        }\r\n        if (e.type === \"keydown\") {\r\n            if (e.ctrlKey === true) {\r\n                // if user press ctrl + up arrow\r\n                if (e.keyCode === 38) {\r\n                    _.getTab(e).focus();\r\n                }\r\n\r\n                // if user press ctrl + page up\r\n                if (e.keyCode === 33) {\r\n                    _.move2(_.current(_.getTab(e)) - 1);\r\n                }\r\n                // if user press ctrl + page down\r\n                if (e.keyCode === 34) {\r\n                    _.move2(_.current(_.getTab(e)) + 1);\r\n                }\r\n            }\r\n            if (_.isTab(t)) {\r\n                if (e.keyCode === 37 || e.keyCode === 38) {\r\n                    _.move2(_.current(t) - 1);\r\n                }\r\n                if (e.keyCode === 39 || e.keyCode === 40) {\r\n                    _.move2(_.current(t) + 1);\r\n                }\r\n                // end\r\n                if (e.keyCode === 36) _.move2(0);\r\n                if (e.keyCode === 35) _.move2(_.btns.length - 1);\r\n\r\n            }\r\n\r\n        }\r\n        e.stopPropagation();\r\n    };\r\n\r\n    _.getTab = function (e) {\r\n        var cc = e.target;\r\n        if (_.isTab(cc)) {\r\n            return cc;\r\n        }\r\n        while (!_.isTabPanel(cc)) {\r\n            cc = cc.parentElement;\r\n        }\r\n        console.log(_.w);\r\n        return _.w.querySelector(\"#\"+ cc.getAttribute('aria-labelledby'));\r\n    };\r\n\r\n    _.current = function (c) {\r\n        var l = _.btns,\r\n            i, ci;\r\n        for (i = 0; i < l.length; i++) {\r\n            if (l[i] === c) {\r\n                ci = i;\r\n            }\r\n        }\r\n        return ci;\r\n    }\r\n\r\n    _.move2 = function (i) {\r\n        if (i < 0) i = _.btns.length - 1;\r\n        else if (i >= _.btns.length) i = 0;\r\n        _.btns[i].focus();\r\n    };\r\n\r\n    _.toggle = function (t) {\r\n        var s = t.getAttribute('aria-expanded');\r\n        s = s == 'false' ? true : false;\r\n\r\n        t.setAttribute('aria-expanded', s);\r\n        t.setAttribute('aria-selected', s);\r\n        t.nextElementSibling.setAttribute('aria-hidden', !s);\r\n    };\r\n\r\n    _.setup = function (w) {\r\n        var p, b, i;\r\n\r\n        w.setAttribute('role', 'tablist');\r\n        w.setAttribute('aria-multiselectable', true);\r\n        console.log();\r\n        _.btns = w.querySelectorAll('[role=tab]');\r\n        _.panels = w.querySelectorAll('[role=tabpanel]');\r\n        if (_.btns.length !== _.panels.length) {\r\n            throw 'accordion module : numbers of control tabs and panels dont match';\r\n        } else {\r\n            for (i = 0; i < _.btns.length; i++) {\r\n                b = _.btns[i];\r\n                p = _.panels[i];\r\n                b.id = 'a' + _.id + '-tab' + (i + 1);\r\n                p.setAttribute('aria-labelledby', b.id);\r\n                b.setAttribute('tabindex', 0);\r\n                b.setAttribute('aria-expanded', _.o.open);\r\n                b.setAttribute('aria-selected', _.o.open);\r\n                p.setAttribute('aria-hidden', !_.o.open);\r\n            };\r\n        };\r\n\r\n        w.addEventListener('click', _.handleUserEvent);\r\n        w.addEventListener('keydown', _.handleUserEvent);\r\n    };\r\n\r\n    (function () {\r\n        _.o.open = _.o.open || false;\r\n        _.setup(_.o.target);\r\n    })();\r\n}\r\n\r\nfunction pageLoaded() {\r\n    new Accordion({\r\n        target: document.querySelector('[data-widget=accordion]')\r\n    });\r\n\r\n};\r\n\r\ndocument.addEventListener('Load', pageLoaded());"],"sourceRoot":"/source/"}